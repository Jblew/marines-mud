<h2>Roomy</h2>
<a href="/autoeditor?mpage=newroom">Dodaj nowy room</a>
<table class="editor_items_table">
	<tr>
		<th>Vnum</th>
		<th>Nazwa</th>
		<th>Kraina</th>
		<th>Znak</th>
		<th>Typ</th>
		<th>Wyjścia</th>
		<th style="width: 10%;">Opcje</th>
	</tr>
	<%
		var showForArea = false;
		var areaId = 0;
		if(web.getVars.containsKey("showforarea")) {
			showForArea = true;
			areaId = web.getVars.get("showforarea");
			web.out.println("<tr><td colspan=\"7\"><b>Oglądasz roomy dla krainy #"+areaId+"&nbsp;&nbsp;&nbsp;<a href=\"/autoeditor/?mpage=rooms\">Pokaż wszystkie roomy</a></b></td></tr>");
		}

		var rooms = World.getRooms();
		for(i in rooms) {
			var room = rooms[i];
			if(showForArea && room.getArea().getId() != areaId) continue;
			web.out.println("<tr>");
			web.out.println("<td>"+room.getVnum()+"</td>");
			web.out.println("<td>"+room.getName()+"</td>");
			web.out.println("<td>"+room.getArea().getName()+" ("+room.getArea().getId()+")</td>");
			web.out.println("<td>"+room.getSign()+"</td>");
			web.out.println("<td>"+room.getAreaTypeName()+"</td>");
			web.out.println("<td>");

			if(room.hasNorthExit()) {
				var exit = room.getNorthExit();
				web.out.println("Północ: "+exit.getTargetVnum()+"("+exit.getName()+");&nbsp;&nbsp;");
			}
			if(room.hasSouthExit()) {
				var exit = room.getSouthExit();
				web.out.println("Południe: "+exit.getTargetVnum()+"("+exit.getName()+");&nbsp;&nbsp;");
			}
			if(room.hasEastExit()) {
				var exit = room.getEastExit();
				web.out.println("Wschód "+exit.getTargetVnum()+"("+exit.getName()+");&nbsp;&nbsp;");
			}
			if(room.hasWestExit()) {
				var exit = room.getWestExit();
				web.out.println("Zachód "+exit.getTargetVnum()+"("+exit.getName()+");&nbsp;&nbsp;");
			}
			if(room.hasUpExit()) {
				var exit = room.getUpExit();
				web.out.println("Góra "+exit.getTargetVnum()+"("+exit.getName()+");&nbsp;&nbsp;");
			}
			if(room.hasDownExit()) {
				var exit = room.getDownExit();
				web.out.println("Dół "+exit.getTargetVnum()+"("+exit.getName()+");&nbsp;&nbsp;");
			}


			web.out.println("</td>");
			web.out.println("<td><a href=\"/autoeditor?mpage=editroom&roomid="+room.getVnum()+"\">Edytuj</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"javascript: if(confirm('Czy chcesz usunąć ten room?')) { window.location.href='/autoeditor?mpage=deleteroom&roomid="+room.getVnum()+"'; }\">Usuń</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#\">Pokaż krainę</a></td>");
			web.out.println("</tr>");
		}
	%>
</table>